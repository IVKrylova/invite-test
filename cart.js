(()=>{"use strict";var t=document.querySelector(".header__count_place_cart"),e=document.querySelector(".cart__list"),n=document.querySelector(".cart__sum");t.textContent=sessionStorage.getItem("countInCart");var r=JSON.parse(sessionStorage.getItem("itemsInCart")),o=r.reduce((function(t,e){return t+Number(e.price)}),0);n.textContent="₽ ".concat(o),sessionStorage.setItem("totalSum",o),function(t,e){t.forEach((function(t){e.append(function(t){var e=document.querySelector("#template-item-in-cart").content.querySelector(".item-in-cart").cloneNode(!0),r=e.querySelector(".item-in-cart__image"),o=e.querySelector(".item-in-cart__title"),c=e.querySelector(".item-in-cart__price"),u=e.querySelector(".item-in-cart__count-button_minus"),a=e.querySelector(".item-in-cart__count-button_plus"),i=e.querySelector(".item-in-cart__count-value"),m=e.querySelector(".item-in-cart__total-price"),s=t.img,l=t.title,S=t.price;r.src=s,r.alt=l,o.textContent=l,c.textContent="".concat(S," ₽"),i.textContent=1;var _="".concat(Number(S)*Number(i.textContent)," ₽");return m.textContent=_,u.addEventListener("click",(function(t){var e=Number(i.textContent);if(e>1){i.textContent=e-1,m.textContent="".concat(Number(S)*Number(i.textContent)," ₽");var r=Number(sessionStorage.getItem("totalSum")-Number(S));n.textContent="₽ ".concat(r),sessionStorage.setItem("totalSum",r)}else i.textContent=1})),a.addEventListener("click",(function(t){var e=Number(i.textContent);i.textContent=e+1,m.textContent="".concat(Number(S)*Number(i.textContent)," ₽");var r=Number(sessionStorage.getItem("totalSum"))+Number(S);n.textContent="₽ ".concat(r),sessionStorage.setItem("totalSum",r)})),e}(t))}))}(r,e)})();